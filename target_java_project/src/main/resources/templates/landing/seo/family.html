<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{landing/layout/main}">

<head>
    <title th:text="#{landing.family.title}">Family Therapist - GoodHelp</title>
    <link rel="stylesheet" th:href="@{/css/landing/family-therapist.css}">
</head>

<body>
    <main layout:fragment="content">
        <section class="gh-family-therapist">
            <div class="gh-family-therapist__soft-light-container">
                <div class="gh-family-therapist__soft-light"></div>
            </div>
            <div class="gh-container">
                <h1 class="gh-family-therapist__h1" th:text="#{family_therapist}">Family Therapist</h1>

                <div class="gh-family-therapist__box">
                    <img src="/img/pages/family-photo.png" class="gh-family-therapist__box-family-photo"
                        alt="Family therapy">
                    <div class="gh-family-therapist__box-info">
                        <p th:text="#{family_therapist.phrase_1}">
                            Family therapy helps resolve conflicts and improve relationships within the family.
                        </p>

                        <h3 th:text="#{family_therapist.misunderstanding_each_other}">Misunderstanding Each Other</h3>
                        <p th:text="#{family_therapist.pharse_2}">
                            When family members struggle to communicate effectively...
                        </p>

                        <h3 th:text="#{family_therapist.problems_with_children}">Problems with Children</h3>
                        <p th:text="#{family_therapist.pharse_3}">
                            Family therapy can help address behavioral issues...
                        </p>

                        <h3 th:text="#{family_therapist.alarm_states}">Alarm States</h3>
                        <p th:text="#{family_therapist.pharse_4}">
                            During difficult times, family therapy provides support...
                        </p>

                        <p class="gh-family-therapist__box-frame" th:text="#{family_therapist.pharse_5}">
                            Our experienced family therapists are here to help.
                        </p>
                    </div>
                </div>

                <h2 class="gh-family-therapist__h2" th:text="#{family_therapist.our-psychologists}">
                    Our Family Therapists
                </h2>

                <div class="gh-therapist-list__list">
                    <th:block th:each="t : ${therapists}">
                        <div th:replace="~{landing/fragments/therapist-card :: therapistCard(therapist=${t})}"></div>
                    </th:block>

                    <div th:if="${#lists.isEmpty(therapists)}" class="gh-therapist-list__empty">
                        <p th:text="#{landing.therapist_list.empty}">No therapists found.</p>
                    </div>
                </div>
            </div>
        </section>

        <script th:inline="javascript">
            window.addEventListener('DOMContentLoaded', function () {
                document.querySelectorAll('.view-specific-therapist-btn').forEach(function (btn) {
                    btn.addEventListener('click', function () {
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'view_specific_therapist_btn_clicked_on_select_therapist_page', {
                                'event_category': 'Conversions'
                            });
                        }
                    });
                });

                var viewItemListData = [];
                /*[# th:each="therapist,iterStat : ${therapists}"]*/
                viewItemListData.push({
                    'id': 'P' + /*[[${therapist.id()}]]*/ '0',
                    'name': /*[[${therapist.fullName()}]]*/ 'Therapist',
                    'list_name': 'Select Therapist - Family Therapists',
                    'category': 'Family Therapists',
                    'list_position': /*[[${iterStat.index + 1}]]*/ 1,
                    'quantity': 1,
                    'price': /*[[${therapist.price()}]]*/ 0
                });
                /*[/]*/

                if (typeof gtag !== 'undefined' && viewItemListData.length > 0) {
                    gtag('event', 'view_item_list', {
                        'items': viewItemListData
                    });
                }
            });
        </script>
    </main>
</body>

</html>